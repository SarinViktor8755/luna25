<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Валерия : возраст</title>
	<link rel="icon" type="image/x-icon" href="icons8.png">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #013d42;
            color: white;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            text-align: left;
        }
        h1 {
            text-align: center;
            color: white;
        }
        .info {
            margin-bottom: 20px;
        }
        .info p {
            margin: 10px 0;
            color: white;
        }
        canvas {
            margin-top: 20px;
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 50%; /* Круглая форма */
        }
        .photo-frame {
            margin-bottom: 20px;
            border: 5px solid #ffffff; /* Белая рамка */
            border-radius: 10px; /* Закругленные углы */
            padding: 5px; /* Отступ внутри рамки */
            background-color: rgba(255, 255, 255, 0.1); /* Легкий фон для рамки */
            display: inline-block;
        }
        .photo-frame img {
            display: block;
            border-radius: 5px; /* Закругленные углы для фото */
            max-width: 200px; /* Максимальная ширина фото */
            height: auto; /* Автоматическая высота */
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ДР Валерии</h1>
        <div class="info">
            <!-- Добавляем фото в рамку -->
            <div class="photo-frame">
                <img src="photo_2025.jpg" alt="Фото Валерии">
            </div>
            <p id="age"></p>
            <p id="nextBirthday"></p>
            <p id="fiveYears"></p>
            <p id="tenYears"></p>
            <p id="eighteenYears"></p>
        </div>
        <canvas id="progressChart" width="300" height="300"></canvas>
       
    </div>

    <script>
        // Дата рождения ребенка
        const birthDate = new Date('2025-03-14T10:15:00');

        // Функция для расчета возраста
        function calculateAge(birthDate) {
            const now = new Date();
            let years = now.getFullYear() - birthDate.getFullYear();
            let months = now.getMonth() - birthDate.getMonth();
            let days = now.getDate() - birthDate.getDate();
            let hours = now.getHours() - birthDate.getHours();
            let minutes = now.getMinutes() - birthDate.getMinutes();
            let seconds = now.getSeconds() - birthDate.getSeconds();

            if (minutes < 0) {
                hours--;
                minutes += 60;
            }
            if (hours < 0) {
                days--;
                hours += 24;
            }
            if (days < 0) {
                months--;
                days += new Date(now.getFullYear(), now.getMonth(), 0).getDate();
            }
            if (months < 0) {
                years--;
                months += 12;
            }

            return { years, months, days, hours, minutes, seconds };
        }

        // Функция для расчета дней до следующего дня рождения
        function daysUntilNextBirthday(birthDate) {
            const now = new Date();
            const nextBirthday = new Date(now.getFullYear(), birthDate.getMonth(), birthDate.getDate());
            if (nextBirthday < now) {
                nextBirthday.setFullYear(now.getFullYear() + 1);
            }
            const diffTime = nextBirthday - now;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays;
        }

        // Функция для расчета дней до определенного возраста
        function daysUntilAge(birthDate, targetAge) {
            const targetDate = new Date(birthDate);
            targetDate.setFullYear(birthDate.getFullYear() + targetAge);
            const now = new Date();
            const diffTime = targetDate - now;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            return diffDays;
        }

        // Функция для рисования круговой диаграммы с обозначением месяцев
        function drawPieChart(progress) {
            const canvas = document.getElementById('progressChart');
            const ctx = canvas.getContext('2d');
            const width = canvas.width;
            const height = canvas.height;
            const radius = Math.min(width, height) / 2 - 20; // Уменьшаем радиус для текста

            // Очистка canvas
            ctx.clearRect(0, 0, width, height);

            // Рисуем фон
            ctx.beginPath();
            ctx.arc(width / 2, height / 2, radius, 0, Math.PI * 2);
            ctx.fillStyle = 'rgba(255, 255, 255, 0.2)';
            ctx.fill();

            // Рисуем прогресс
            ctx.beginPath();
            ctx.moveTo(width / 2, height / 2);
            ctx.arc(width / 2, height / 2, radius, -Math.PI / 2, -Math.PI / 2 + Math.PI * 2 * progress);
            ctx.fillStyle = '#ffffff';
            ctx.fill();

            // Добавляем обозначение месяцев
            const monthNames = [
                'Март', 'Апрель', 'Май', 'Июнь', 'Июль', 'Август',
                'Сентябрь', 'Октябрь', 'Ноябрь', 'Декабрь', 'Январь', 'Февраль'
            ];
            const centerX = width / 2;
            const centerY = height / 2;
            const textRadius = radius - 20; // Радиус для текста

            ctx.fillStyle = 'white';
            ctx.font = '12px Arial';
            ctx.textAlign = 'center';
            ctx.textBaseline = 'middle';

            for (let i = 0; i < monthNames.length; i++) {
                const angle = (i * (Math.PI * 2) / monthNames.length) - Math.PI / 2;
                const x = centerX + Math.cos(angle) * textRadius;
                const y = centerY + Math.sin(angle) * textRadius;
                ctx.fillText(monthNames[i], x, y);
            }
        }

        // Обновление информации на странице
        function updateInfo() {
            const age = calculateAge(birthDate);
            document.getElementById('age').innerText = `Возраст ребенка: \n${age.years} лет, ${age.months} месяцев, ${age.days} дней\n ${age.hours} часов, ${age.minutes} минут, ${age.seconds} сек`;

            const nextBirthday = daysUntilNextBirthday(birthDate);
            document.getElementById('nextBirthday').innerText = `До следующего дня рождения: ${nextBirthday} дней`;

            const fiveYears = daysUntilAge(birthDate, 5);
            document.getElementById('fiveYears').innerText = `До 5-летия: ${fiveYears} дней`;

            const tenYears = daysUntilAge(birthDate, 10);
            document.getElementById('tenYears').innerText = `До 10-летия: ${tenYears} дней`;

            const eighteenYears = daysUntilAge(birthDate, 18);
            document.getElementById('eighteenYears').innerText = `До 18-летия: ${eighteenYears} дней`;

            // Расчет прогресса от последнего дня рождения до следующего
            const now = new Date();
            const lastBirthday = new Date(now.getFullYear(), birthDate.getMonth(), birthDate.getDate());
            if (lastBirthday > now) {
                lastBirthday.setFullYear(now.getFullYear() - 1);
            }
            const nextBirthdayDate = new Date(lastBirthday);
            nextBirthdayDate.setFullYear(lastBirthday.getFullYear() + 1);

            const totalTime = nextBirthdayDate - lastBirthday;
            const elapsedTime = now - lastBirthday;
            const progress = elapsedTime / totalTime;

            // Отрисовка круговой диаграммы
            drawPieChart(progress);
        }

        // Обновление информации каждые 30 секунд
        setInterval(updateInfo, 3000);

        // Первоначальное обновление информации
        updateInfo();
    </script>
</body>
</html>